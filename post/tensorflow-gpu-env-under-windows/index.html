<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Windowsç³»ç»Ÿä¸‹TensorFlow-GPUç¯å¢ƒæ­å»º | Yang&#39;s blog</title>

<link rel="shortcut icon" href="https://yangt.me/favicon.ico?v=1619768861129">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://yangt.me/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="å¤´åƒ">
        <div class="site-name gt-c-content-color-first">
            Yang&#39;s blog
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            é¦–é¡µ
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            å½’æ¡£
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            æ ‡ç­¾
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            å…³äº
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="friends" class="menu gt-a-link">
                            å‹é“¾
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1619768861129" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="æœç´¢æ–‡ç« " />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Windowsç³»ç»Ÿä¸‹TensorFlow-GPUç¯å¢ƒæ­å»º
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        Â· 2019-09-28 Â·
                    </time>
                    
                        <a href="https://yangt.me/tag/x7QpQxXAv/" class="post-tags">
                            # Tensorflow
                        </a>
                    
                        <a href="https://yangt.me/tag/6KHiJEdvJL/" class="post-tags">
                            # Windows
                        </a>
                    
                </div>
                <div class="post-content">
                    <p>ä»¥ Windows 7 SP1 ä¸“ä¸šç‰ˆç³»ç»Ÿä¸ºä¾‹ï¼Œè¿›è¡Œ Windows ä¸‹ TensorFlow GPU ç¯å¢ƒçš„é…ç½®ï¼Œå°½å¯èƒ½å¤ç°è¯¾é¢˜ç»„ Ubuntu æœåŠ¡å™¨ä¸­çš„ç‰ˆæœ¬ã€‚</p>
<!-- more -->
<h2 id="1-anaconda3">1.  Anaconda3</h2>
<p>é¦–å…ˆä½¿ç”¨ Anaconda3 å»ºç«‹ä¸€ä¸ª Python ç‰ˆæœ¬ä¸º 3.6 çš„æ–°ç¯å¢ƒã€‚</p>
<pre><code># Anaconda3 ä¸‹è½½é“¾æ¥
æ¸…åé•œåƒ: https://mirror.tuna.tsinghua.edu.cn/help/anaconda/
å®˜ç½‘é“¾æ¥: https://www.anaconda.com/distribution/#download-section

# æ–°å»º conda ç¯å¢ƒ
conda create -n ENV_NAME python=3.6
</code></pre>
<p><strong>ä¸‹é¢æ‰€æœ‰æ¶‰åŠ Python çš„å†…å®¹éƒ½ä¼šåœ¨è¯¥ç¯å¢ƒä¸­è¿›è¡Œ</strong>ï¼Œå¦‚æœä¸åœ¨è¯¥ç¯å¢ƒä¸­ï¼Œåˆ‡æ¢è‡³è¯¥ç¯å¢ƒçš„å‘½ä»¤ä¸º <code>conda activate ENV_NAME</code></p>
<p>æ¸…åçš„é“¾æ¥é‡Œæä¾›äº†æ›¿æ¢é•œåƒçš„æ–¹æ³•ï¼Œä»¥ä¾¿æé«˜ä¸‹è½½é€Ÿåº¦</p>
<h2 id="2-visual-studio">2.  Visual Studio</h2>
<p>å®‰è£… CUDA çš„å‰ææ—¶å®‰è£…æœ‰ Visual Studioï¼ŒCUDA 9.0 æ”¯æŒ vs2010 - vs2019ï¼Œæˆ‘é€‰æ‹©äº† Visual Studio 2013 ç‰ˆï¼Œä¸‹è½½ä¹‹åå…¨éƒ¨é»˜è®¤å®‰è£…å³å¯ã€‚</p>
<pre><code># Visual Studio 2013 ä¸‹è½½é“¾æ¥
ä¸­æ–‡æ——èˆ°ç‰ˆï¼šhttp://download.microsoft.com/download/0/7/5/0755898A-ED1B-4E11-BC04-6B9B7D82B1E4/VS2013_RTM_ULT_CHS.iso
å…¶ä»–ç‰ˆæœ¬å‚è€ƒï¼šhttps://blog.csdn.net/skykingf/article/details/12883655
</code></pre>
<h2 id="3-nvidia-é©±åŠ¨">3.  Nvidia é©±åŠ¨</h2>
<p>Nvidia é©±åŠ¨åŒ…æ‹¬ 3 ä¸ªï¼Œæ˜¾å¡é©±åŠ¨ï¼ˆç‰ˆæœ¬æ— è¦æ±‚ï¼‰ã€CUDA 9.0ã€ä»¥åŠ cuDNN 7.0.5ã€‚éœ€è¦æŒ‰ç…§ä¸Šè¿°æ¬¡åºå®‰è£…ã€‚<strong>è¦å’ŒæœåŠ¡å™¨ä¸­çš„ CUDA 9.0 ä»¥åŠ cuDNN 7.1.2 å¯¹åº”ï¼Œä¸Šè¿° Windows ç‰ˆæœ¬ä¸ºå”¯ä¸€é€‰æ‹©ï¼Œå¦åˆ™ä¼šæŠ¥é”™</strong></p>
<pre><code># æ˜¾å¡é©±åŠ¨
Nvidia å®˜ç½‘ï¼šhttps://www.nvidia.com/Download/index.aspx?lang=cn
# CUDA 9.0
é€‰æ‹©å¯¹åº”çš„ç³»ç»Ÿï¼šhttps://developer.nvidia.com/cuda-90-download-archive
# cuDNN 7.0.5
å¯èƒ½éœ€è¦å…ˆæ³¨å†Œï¼Œé€‰æ‹©ï¼šDownload cuDNN v7.0.5 (Dec 5, 2017), for CUDA 9.0
https://developer.nvidia.com/rdp/cudnn-archive
</code></pre>
<p>ä¸‹è½½çš„æ˜¾å¡é©±åŠ¨ä¸ CUDA æ˜¯å®‰è£…çš„ï¼Œç›´æ¥é»˜è®¤å®‰è£…ï¼ŒcuDNN æ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œè§£å‹åå°†å…¶ä¸­çš„ <code>bin</code>, <code>include</code>, <code>lib</code> æ–‡ä»¶å¤¹è¦†ç›–åˆ° CUDA çš„å®‰è£…ç›®å½•ï¼Œé»˜è®¤å®‰è£…å³æ˜¯ <code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0</code></p>
<h4 id="cuda-éªŒè¯">CUDA éªŒè¯</h4>
<p>å®‰è£…å®Œæˆåæ‰“å¼€ CUDA çš„ä¾‹ç¨‹æ–‡ä»¶å¤¹ï¼Œé»˜è®¤ä¸º <code>C:\ProgramData\NVIDIA Corporation\CUDA Samples\v9.0</code> é€‰æ‹©å¯¹åº” vs ç‰ˆæœ¬çš„ä¾‹ç¨‹æ‰“å¼€ï¼Œåœ¨ vs ä¸­å³é”® <code>build</code> ä¸€ä¸‹ï¼Œæ— æŠ¥é”™å³å¯ã€‚ï¼ˆ<strong>vs è¦ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</strong>ï¼‰</p>
<h2 id="4-tensorflow-ç­‰">4.  TensorFlow ç­‰</h2>
<pre><code class="language-bash"># å®‰è£… tensorflow-gpu 1.7
# ä¼˜å…ˆä½¿ç”¨ conda å®‰è£…ï¼Œå› ä¸º conda ä¼šè€ƒè™‘åˆ°ä¾èµ–åº“ä¹‹é—´çš„ç‰ˆæœ¬å…¼å®¹æ€§
conda install tensorflow-gpu=1.7
# æˆ‘å®‰è£…çš„ conda ä¸çŸ¥ä¸ºä½•è”ç½‘ï¼Œåªèƒ½æ¢ç”¨ pip
pip install tensorflow-gpu==1.7
</code></pre>
<p>å®‰è£…å®Œä¹‹åè¿›å…¥ Python ç¯å¢ƒï¼Œæµ‹è¯• TensorFlowï¼Œ<code>import tensorflow as tf</code></p>
<p>æœ‰å¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„è­¦å‘Šï¼Œè¿™æ˜¯ Numpy ç‰ˆæœ¬ä¸å…¼å®¹çš„é—®é¢˜</p>
<pre><code class="language-py">...\lib\site-packages\tensorflow\python\framework\dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([(&quot;qint8&quot;, np.int8, 1)])
</code></pre>
<p>è§£å†³è¿™ä¸ªé—®é¢˜éœ€å…ˆæŸ¥çœ‹ Numpy çš„ç‰ˆæœ¬ï¼Œç„¶åå†³å®šæ˜¯å¦æ›¿æ¢ã€‚</p>
<pre><code class="language-bash"># æŸ¥çœ‹ Numpy ç‰ˆæœ¬
pip show numpy
# æ›´æ”¹ä¸º 1.14.5 ï¼ˆä¸æœåŠ¡å™¨ç›¸åŒï¼‰
pip install numpy==1.14.5
</code></pre>
<p>ç„¶åå†è¿›å…¥ Python ç¯å¢ƒï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œèƒ½æ­£å¸¸è¾“å‡º GPU ä¿¡æ¯å¹¶ä¸”æ— æŠ¥é”™å³å¯ã€‚</p>
<pre><code class="language-python">import tensorflow as tf
sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))
</code></pre>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">ä¸‹ä¸€ç¯‡</div>
                <a href="https://yangt.me/post/protect-server-under-ssh-cracking/" class="post-title gt-a-link">
                    æœåŠ¡å™¨è¢«SSHæš´åŠ›ç ´è§£è§£å†³æ–¹æ¡ˆ
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">è‹Ÿåˆ©å›½å®¶ç”Ÿæ­»ä»¥ï¼Œå²‚å› ç¥¸ç¦é¿è¶‹ä¹‹ğŸ•¶</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Copyright &copy; 2019-<span id="footerYear">2019</span> Yang Tian. All rights reserved.
<script type="text/javascript">
document.getElementById('footerYear').innerHTML = new Date().getFullYear();
</script>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://yangt.me/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
