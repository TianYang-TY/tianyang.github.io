<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>åœ¨Ubuntu18.04LTSä¸­å®‰è£…FreeSurfer | Yang&#39;s blog</title>

<link rel="shortcut icon" href="https://yangt.me/favicon.ico?v=1619768861129">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://yangt.me/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="å¤´åƒ">
        <div class="site-name gt-c-content-color-first">
            Yang&#39;s blog
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            é¦–é¡µ
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            å½’æ¡£
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            æ ‡ç­¾
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            å…³äº
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="friends" class="menu gt-a-link">
                            å‹é“¾
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1619768861129" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="æœç´¢æ–‡ç« " />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    åœ¨Ubuntu18.04LTSä¸­å®‰è£…FreeSurfer
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        Â· 2020-02-18 Â·
                    </time>
                    
                        <a href="https://yangt.me/tag/5JIqsTVwc/" class="post-tags">
                            # Linux
                        </a>
                    
                        <a href="https://yangt.me/tag/4tKidSvhRh/" class="post-tags">
                            # Ubuntu
                        </a>
                    
                        <a href="https://yangt.me/tag/nXH6UnePtt/" class="post-tags">
                            # Freesurfer
                        </a>
                    
                </div>
                <div class="post-content">
                    <p>æœ¬æ–‡æ¡£ä¸»è¦å‚è€ƒäº†<a href="https://surfer.nmr.mgh.harvard.edu/fswiki/DownloadAndInstall">FreeSurferå®˜æ–¹æ•™ç¨‹</a>ä»¥åŠCSDNä¸Šçš„ä¸€ç¯‡æ–‡ç« <a href="https://blog.csdn.net/qq_32696375/article/details/84024326">Ubuntu 18.04å®‰è£…FreeSurferè½¯ä»¶</a>ã€‚ç”±äºç³»ç»Ÿä¸è½¯ä»¶çš„æ›´æ–°è¿­ä»£ï¼Œå¿…é¡»è¿›è¡Œä¸€äº›é¢å¤–çš„æ“ä½œæ‰èƒ½å¤ŸæˆåŠŸå®‰è£…ã€‚</p>
<!-- more -->
<blockquote>
<p>ä¿®æ”¹1ï¼š2020-02-19</p>
<p>â€‹    æ ¹æ®ç›¸å…³æ•™ç¨‹å¢åŠ äº†freesurfer 6.0çš„è¡¥ä¸åŒ…å®‰è£…æ­¥éª¤</p>
<p>ä¿®æ”¹2ï¼š2020-03-02</p>
<p>â€‹    åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°freesurferä¾èµ–pythonç¯å¢ƒï¼Œéœ€è¦å®‰è£…ï¼Œè¡¥å……åœ¨é¢å¤–æ“ä½œ-Pythonç‰ˆæœ¬ä¸­</p>
<p>ä¿®æ”¹3ï¼š2020-03-14</p>
<p>â€‹    ä¿®æ”¹äº†ä¸€äº›è¾“å…¥é”™è¯¯</p>
<p>ä¿®æ”¹4ï¼š2020-08-03</p>
<p>â€‹    æ–°å¢æ¸…åé•œåƒä»¥åŠdcm2niixç­‰åº“</p>
<p>ä¿®æ”¹5ï¼š2020-11-02</p>
<p>æ–°å¢Matlab Runtimeé…ç½®</p>
</blockquote>
<h2 id="ä¸‹è½½freesurfer">ä¸‹è½½FreeSurfer</h2>
<p>å®˜ç½‘ç»™å‡ºäº†ä¸‹è½½é“¾æ¥ä»¥åŠç³»ç»Ÿéœ€æ±‚</p>
<p>Ubuntué‡Œä½¿ç”¨å‘½ä»¤ä¸‹è½½ï¼š</p>
<pre><code class="language-bash">wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0/freesurfer-Linux-centos6_x86_64-stable-pub-v6.0.0.tar.gz
</code></pre>
<p>å°†ä¸‹è½½æ•°æ®ç§»åŠ¨åˆ°/usr/localæ–‡ä»¶å¤¹ä¸‹å¹¶è§£å‹ï¼š</p>
<pre><code class="language-bash">sudo mv freesurfer-Linux-centos6_x86_64-stable-pub-v6.0.0.tar.gz /usr/local
cd /usr/local
sudo tar xzvf freesurfer-Linux-centos6_x86_64-stable-pub-v6.0.0.tar.gz
</code></pre>
<h2 id="è·å–license">è·å–license</h2>
<p>è·å–licenseçš„é“¾æ¥ä¸ºï¼š<a href="https://surfer.nmr.mgh.harvard.edu/registration.html"><em>FreeSurfer</em> Download and Registration</a>ï¼Œæ³¨å†Œåé‚®ç®±ä¼šæ”¶åˆ°<code>license.txt</code>æ–‡ä»¶ï¼Œå¤åˆ¶å…¶ä¸­å†…å®¹ã€‚</p>
<p>åˆ›å»ºlicenseæ–‡æœ¬ç„¶åç²˜è´´licenseå†…å®¹ï¼š</p>
<pre><code class="language-bash">sudo touch freesurfer/license.txt
sudo su
cd /usr/local/freesurfer
gedit license.txt
</code></pre>
<h2 id="é…ç½®ç¯å¢ƒå˜é‡">é…ç½®ç¯å¢ƒå˜é‡</h2>
<p>è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="language-bash">sudo gedit  /etc/profile
</code></pre>
<p>åœ¨æ‰“å¼€æ–‡ä»¶çš„æœ€åè¾“å…¥ä»¥ä¸‹è¯­å¥ï¼š</p>
<pre><code class="language-bash">export FREESURFER_HOME=/usr/local/freesurfer
</code></pre>
<p>è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="language-bash">sudo gedit  /etc/bash.bashrc
</code></pre>
<p>åœ¨æ‰“æ–‡ä»¶æœ€åè¾“å…¥ä»¥ä¸‹è¯­å¥ï¼š</p>
<pre><code class="language-bash">export FREESURFER_HOME=/usr/local/freesurfer
source $FREESURFER_HOME/SetUpFreeSurfer.sh
</code></pre>
<hr>
<p>æœŸé—´å¦‚æœå‡ºç°å¦‚ä¸‹æç¤ºå¿½ç•¥å³å¯ï¼š</p>
<pre><code class="language-bash">Set document metadata failed: ä¸æ”¯æŒè®¾ç½®å±æ€§ metadata::gedit-encoding
</code></pre>
<p>ç»è¿‡ä¸Šè¿°ç¯å¢ƒå˜é‡è®¾ç½®ä¹‹åï¼Œæ¯æ¬¡å¯åŠ¨ç»ˆç«¯éƒ½ä¼šæœ‰FreeSurferçš„ç›¸å…³ä¿¡æ¯è¾“å‡ºï¼š</p>
<pre><code class="language-bash">-------- freesurfer-Linux-centos6_x86_64-stable-pub-v6.0.0-2beb96c --------
Setting up environment for FreeSurfer/FS-FAST (and FSL)
FREESURFER_HOME   /usr/local/freesurfer
FSFAST_HOME       /usr/local/freesurfer/fsfast
FSF_OUTPUT_FORMAT nii.gz
SUBJECTS_DIR      /usr/local/freesurfer/subjects
MNI_DIR           /usr/local/freesurfer/mni
</code></pre>
<h2 id="é¢å¤–æ“ä½œ">é¢å¤–æ“ä½œ</h2>
<h3 id="ç¼ºå°‘çš„åº“">ç¼ºå°‘çš„åº“</h3>
<p>ç”±äºæˆ‘æ“ä½œçš„Ubuntuç³»ç»Ÿä¹‹å‰ä»æœªä½¿ç”¨è¿‡ï¼Œåœ¨å¯åŠ¨FreeSurferæ—¶ä¼šå‡ºç°æŠ¥é”™ï¼Œæç¤ºç¼ºå°‘åº“æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="language-bash"># ç¼ºå°‘tcsh
bash: /usr/local/freesurfer/bin/recon-all: /bin/tcsh: è§£é‡Šå™¨é”™è¯¯: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•
# ç¼ºå°‘libpng12
freeview.bin: error while loading shared libraries: libpng12.so.0: cannot open shared object file: No such file or directory
# ç¼ºå°‘libjpg
freeview.bin: error while loading shared libraries: libjpeg.so.62: cannot open shared object file: No such file or directory
</code></pre>
<p>å…¶ä¸­tcshä¸libjpdå¯ä»¥ç›´æ¥å®‰è£…ï¼Œåœ¨Ubuntu 16.10+çš„ç³»ç»Ÿä¸­ï¼Œlibpng12å·²ç»è¢«å¼ƒç”¨ï¼Œæ— æ³•ç›´æ¥å®‰è£…ï¼Œéœ€è¦æ‰‹åŠ¨ä¸‹è½½ç¼–è¯‘ï¼Œåœ¨è¿›è¡Œæ“ä½œå‰å»ºè®®å°† Ubuntu é•œåƒæ›¿æ¢ä¸º <a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">æ¸…åé•œåƒ</a> ã€‚</p>
<pre><code class="language-bash"># æ›¿æ¢é•œåƒä¹‹å
sudo apt update
sudo apt upgrade
sudo apt install tcsh libjpeg62 dcm2niix htop
wget http://mirrors.kernel.org/ubuntu/pool/main/libp/libpng/libpng12-0_1.2.54-1ubuntu1_amd64.deb
sudo dpkg -i libpng12-0_1.2.54-1ubuntu1_amd64.deb
</code></pre>
<h3 id="pythonç‰ˆæœ¬">Pythonç‰ˆæœ¬</h3>
<p>åœ¨å¯¹<code>recon-all</code>å‘½ä»¤å¾—åˆ°çš„ç»“æœè¿›è¡Œç»Ÿè®¡å­¦åˆ†ææ˜¯ä½¿ç”¨åˆ°äº†ä¸¤ä¸ªå‘½ä»¤<code>asegstats2table</code>ï¼Œ<code>aparcstats2table</code>ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤ç›´æ¥æ‰§è¡Œä¼šæŠ¥é”™ï¼š<code>/usr/bin/env: &quot;python&quot;: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</code>ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æˆ‘ä½¿ç”¨çš„Ubuntu18.04LTSä¸­ï¼Œé»˜è®¤çš„pythonä¸ºpython3è€Œä¸”éœ€è¦ä½¿ç”¨å‘½ä»¤<code>python3</code>è°ƒå‡ºï¼Œè§£å†³è¿™ä¸ªé—®é¢˜å¯ä»¥å°†<code>python</code>å‘½ä»¤ç»‘å®šä¸º<code>python3</code>ï¼Œä½†æ˜¯ç½‘ç»œä¸ŠæŸ¥åˆ°çš„å’Œfreesurferæœ‰å…³çš„å†…å®¹å‡ä½¿ç”¨äº†python2ï¼Œå› æ­¤ç›´æ¥å®‰è£…python2å³å¯è§£å†³é—®é¢˜ã€‚</p>
<pre><code class="language-bash">sudo apt-get install python
</code></pre>
<p>Tipsï¼šåœ¨å®‰è£…æ˜¯å¦‚æœæç¤ºï¼š</p>
<pre><code class="language-bash">E: æ— æ³•è·å¾—é” /var/lib/dpkg/lock-frontend - open (11: èµ„æºæš‚æ—¶ä¸å¯ç”¨)
E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), is another process using it?
</code></pre>
<p>å‚è€ƒä¸€ç¯‡<a href="https://www.cnblogs.com/python-wen/p/11023944.html">åšå®¢</a>çš„å†…å®¹ï¼Œä¸¤ç§è§£å†³æ–¹æ³•ï¼š</p>
<pre><code class="language-bash"># æ€æ‰apt-getè¿›ç¨‹ï¼š
ps aux | grep apt-get
sudo kill PID
# å¼ºåˆ¶è§£é”ï¼š
sudo rm /var/cache/apt/archives/lock
sudo rm /var/lib/dpkg/lock

# ç»æ£€éªŒç¬¬äºŒç§æ–¹æ³•æœ‰ç”¨ï¼Œåœ¨ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•åå¦‚æœä»ç„¶å‡ºç°æŠ¥é”™ï¼Œä½†æ˜¯æŸ¥çœ‹è¿›ç¨‹å‘ç°å¹¶æ²¡æœ‰apt-getè¿›ç¨‹ä¿¡æ¯ï¼Œæ­¤æ—¶é€šè¿‡é‡å¯ç³»ç»Ÿï¼Œå†é‡æ–°å®‰è£…è½¯ä»¶ï¼Œå‘ç°å¯ä»¥æˆåŠŸå®‰è£…ã€‚
</code></pre>
<p>ä»¥ä¸Šæ˜¯æˆ‘åœ¨å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°çš„åº“ç¼ºå¤±æƒ…å†µï¼Œå®é™…æ“ä½œä¸­éœ€è¦æ ¹æ®æŠ¥é”™æŸ¥çœ‹ç¼ºå¤±åº“çš„è¯¦æƒ…</p>
<h2 id="ç”¨ä¾‹æµ‹è¯•">ç”¨ä¾‹æµ‹è¯•</h2>
<p>æµ‹è¯•FreeSurferèƒ½å¦æ­£å¸¸å·¥ä½œå¯ä»¥ç›´æ¥ä½¿ç”¨å®˜æ–¹çš„ä¾‹ç¨‹ï¼š</p>
<p>FreeSurfer comes with two sample data files (sample-001.mgz and sample-002.mgz) as well as a fully recon-ed subject named bert. These data files can be used to test that your FreeSurfer installation was done properly. To test your installation, please try the following examples:</p>
<p><strong>Example 1:</strong> Convert the sample-001.mgz to nifti format.</p>
<pre><code>$&gt; cp $FREESURFER_HOME/subjects/sample-001.mgz .
$&gt; mri_convert sample-001.mgz sample-001.nii.gz
...
reading from sample-001.mgz...
TR=7.25, TE=3.22, TI=600.00, flip angle=7.00
i_ras = (-0, -1, -0)
j_ras = (-0, 0, -1)
k_ras = (-1, 0, 0)
writing to sample-001.nii.gz...
</code></pre>
<p><strong>Example 2:</strong> Perform a full recon-all on the nifti file.</p>
<pre><code>$&gt; export SUBJECTS_DIR=&lt;path to subject directory&gt;
$&gt; recon-all -i sample-001.nii.gz -s bert -all (creates a folder called bert in SUBJECTS_DIR)
</code></pre>
<p><strong>Example 3:</strong> Perform a full recon-all on a pre-existing subject folder</p>
<pre><code>$&gt; export SUBJECTS_DIR=&lt;path to subject directory&gt;
$&gt; recon-all -s bert -all
</code></pre>
<p><strong>Example 4:</strong> View the output volumes, surfaces and subcortical segmentation of the fully recon-ed subject bert.</p>
<pre><code>$&gt; cd $SUBJECTS_DIR
$&gt; freeview -v \
    bert/mri/T1.mgz \
    bert/mri/wm.mgz \
    bert/mri/brainmask.mgz \
    bert/mri/aseg.mgz:colormap=lut:opacity=0.2 \
    -f \
    bert/surf/lh.white:edgecolor=blue \
    bert/surf/lh.pial:edgecolor=red \
    bert/surf/rh.white:edgecolor=blue \
    bert/surf/rh.pial:edgecolor=red
# æ­£å¸¸çš„è¯åº”è¯¥å‡ºç°åŠ è½½å®Œæˆç¤ºä¾‹å›¾åƒçš„GUI
</code></pre>
<h2 id="è¡¥ä¸åŒ…">è¡¥ä¸åŒ…</h2>
<p>ç”±äº6.0.0ç‰ˆæœ¬éƒ¨åˆ†æŒ‡ä»¤è¿è¡Œæ—¶å­˜åœ¨bugï¼Œå› æ­¤å…ˆæ‰“å¥½è¡¥ä¸é¿å…é‡åˆ°ç±»ä¼¼é—®é¢˜ã€‚ä¸‹è½½freesurfer 6.0.0 patchï¼š<a href="ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/">6.0.0 patchåœ°å€</a></p>
<p>å¦‚æœéœ€è¦å…¶ä»–ç‰ˆæœ¬è¡¥ä¸çš„ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™å»æŸ¥è¯¢å¯¹åº”ç‰ˆæœ¬æ˜¯å¦å‘å¸ƒpatchåŒ…ï¼š<a href="ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer">freesurfer</a></p>
<p>æ ¹æ®readmeæ–‡ä»¶çš„è¯´æ˜ï¼Œåˆ†åˆ«å¤‡ä»½freesurferä¸‹è¿™äº›æŒ‡ä»¤çš„æ–‡ä»¶ï¼Œç„¶åå°†è¡¥ä¸æ–‡ä»¶å¤åˆ¶è¿‡å»è¦†ç›–å³å¯ï¼ŒTerminalä¸‹è¾“å…¥ï¼š</p>
<pre><code class="language-bash">wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/make_average_subject
wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/make_average_surface
wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/mri_aparc2aseg.linux
wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/mri_glmfit-sim
wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/mri_segstats.linux
wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/mris_anatomical_stats.linux
wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/recon-all
wget ftp://surfer.nmr.mgh.harvard.edu/pub/dist/freesurfer/6.0.0-patch/vol2subfield

sudo cp $FREESURFER_HOME/bin/make_average_subject $FREESURFER_HOME/bin/make_average_subject.backup
sudo cp make_average_subject $FREESURFER_HOME/bin/make_average_subject

sudo cp $FREESURFER_HOME/bin/make_average_surface $FREESURFER_HOME/bin/make_average_surface.backup
sudo cp make_average_surface $FREESURFER_HOME/bin/make_average_surface

sudo cp $FREESURFER_HOME/bin/mri_aparc2aseg $FREESURFER_HOME/bin/mri_aparc2aseg.backup
sudo cp mri_aparc2aseg.linux $FREESURFER_HOME/bin/mri_aparc2aseg

sudo cp $FREESURFER_HOME/bin/mri_glmfit-sim $FREESURFER_HOME/bin/mri_glmfit-sim.backup
sudo cp mri_glmfit-sim $FREESURFER_HOME/bin/mri_glmfit-sim

sudo cp $FREESURFER_HOME/bin/mri_segstats $FREESURFER_HOME/bin/mri_segstats.backup
sudo cp mri_segstats.linux $FREESURFER_HOME/bin/mri_segstats

sudo cp $FREESURFER_HOME/bin/mris_anatomical_stats $FREESURFER_HOME/bin/mris_anatomical_stats.backup
sudo cp mris_anatomical_stats.linux $FREESURFER_HOME/bin/mris_anatomical_stats

sudo cp $FREESURFER_HOME/bin/recon-all $FREESURFER_HOME/bin/recon-all.backup
sudo cp recon-all $FREESURFER_HOME/bin/recon-all

# åŸfreesurferä¸­å¥½åƒæ²¡æœ‰vol2subfieldï¼Œæ— éœ€å¤‡ä»½ç›´æ¥æ‹·è´å³å¯
sudo cp vol2subfield $FREESURFER_HOME/bin/vol2subfield
</code></pre>
<h2 id="matlab-runtime">Matlab Runtime</h2>
<p><a href="https://surfer.nmr.mgh.harvard.edu/fswiki/MatlabRuntime">Freesurferå…³äºMatlab Runtimeçš„æ–‡æ¡£</a> ä½¿ç”¨ <code>fs_install_mcr</code> è‡ªåŠ¨å®‰è£…éœ€è¦çš„Matlabï¼Œæ­¥éª¤å¦‚ä¸‹</p>
<pre><code class="language-bash"># é¦–æ¬¡éœ€è¦å®‰è£…fs_install_mcr 
cd $FREESURFER_HOME/bin
sudo curl https://raw.githubusercontent.com/freesurfer/freesurfer/dev/scripts/fs_install_mcr -o fs_install_mcr &amp;&amp; chmod +x fs_install_mcr
# FS 6.0ç‰ˆæœ¬ä¸‹è½½ Matlab r2012b
fs_install_mcr R2012b
</code></pre>
<p>ä½†æ˜¯æˆ‘åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°ä¸Šé¢çš„å‘½ä»¤æ— æ³•ä¸‹è½½Matlabå®‰è£…åŒ…å°±æŠ¥é”™äº†ï¼Œå¦ä¸€ä¸ªæ–¹æ¡ˆå°±æ˜¯æ‰‹åŠ¨å» <a href="https://ww2.mathworks.cn/help/compiler_sdk/dotnet/install-the-matlab-runtime.html">matlabå®˜ç½‘</a> ä¸‹è½½ r2012b linuxç‰ˆï¼Œä¸‹é¢å¯ä»¥æ‰§è¡Œå‘½ä»¤è¿›è¡Œä¸‹è½½ã€‚</p>
<pre><code class="language-bash"># æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹è¿›è¡Œæ“ä½œ
mkdir matlab
cd matlab
wget https://ssd.mathworks.com/supportfiles/MCR_Runtime/R2012b/MCR_R2012b_glnxa64_installer.zip
unzip MCR_R2012b_glnxa64_installer.zip
sudo ./install -mode silent -agreeToLicense yes
</code></pre>
<p>ç„¶åéœ€è¦å°†matlabçš„å®‰è£…ç›®å½•é€šè¿‡è½¯é“¾æ¥æ˜ å°„åˆ°Freesurferçš„ç›®å½•ä¸‹ï¼Œmatlabå®‰è£…ç›®å½•é»˜è®¤ä¸º <code>/usr/local/MATLAB/MATLAB_Compiler_Runtime</code></p>
<pre><code class="language-bash">cd $FREESURFER_HOME
ln -s /usr/local/MATLAB/MATLAB_Compiler_Runtime/v80 MCRv80
</code></pre>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">ä¸‹ä¸€ç¯‡</div>
                <a href="https://yangt.me/post/reconnect-wifi/" class="post-title gt-a-link">
                    WIFIæ–­è¿è‡ªåŠ¨è¿æ¥è„šæœ¬
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">è‹Ÿåˆ©å›½å®¶ç”Ÿæ­»ä»¥ï¼Œå²‚å› ç¥¸ç¦é¿è¶‹ä¹‹ğŸ•¶</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Copyright &copy; 2019-<span id="footerYear">2019</span> Yang Tian. All rights reserved.
<script type="text/javascript">
document.getElementById('footerYear').innerHTML = new Date().getFullYear();
</script>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://yangt.me/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
